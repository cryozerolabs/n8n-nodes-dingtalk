# 钉钉 n8n 节点示例工作流

这个目录包含了各种使用钉钉 n8n 节点的示例工作流，帮助你快速上手和了解各种功能的使用方法。

## 📁 示例文件

### 基础功能示例
- `基础_AI表格操作_v0.2.0.json` - 完整的 AI 表格操作演示，包括：
  - 用户信息获取（获取 unionId）
  - AI 表格 URL 解析（提取 baseId、sheetId、viewId）
  - 数据表管理（创建、获取、更新、删除）
  - 记录操作（新增、查询、更新、删除）
  - 访问令牌获取演示
- `基础_Stream推送服务_v0.4.0.json` - 使用Stream模式订阅事件
- `基础_机器人_v0.5.0.json` - 使用机器人发送DING消息、自定义机器人发送群消息
### 📝 更多示例
- `案例_报销流程提取发票信息进行校验并反馈_v0.5.0.json` - 扩展钉钉审批流程，结合AI提取审批流程中的发票信息并进行校验，将结果通过DING消息、回填审批实例、评论审批实例等方式反馈
- `案例_AI表格文档附件上传_v0.5.0` - 将单个和多个文件上传至AI表格

## 🚀 使用方法

### 1. 导入工作流

**方法一：通过 URL 导入（推荐）**
```
https://raw.githubusercontent.com/cryozerolabs/n8n-nodes-dingtalk/main/examples/[文件名].json
```

**方法二：下载文件导入**
1. 下载对应的 JSON 文件
2. 在 n8n 中点击 "Import from file"
3. 选择下载的 JSON 文件

### 2. 配置凭据

导入工作流后，你需要：
1. **配置钉钉 API 凭据**（Corp ID、Client ID 和 Client Secret）
2. **调整实际参数**：
   - 修改示例中的 AI 表格 URL 为你的真实表格链接
   - 设置正确的用户 ID（用于获取 unionId）
   - 根据你的表格结构调整字段名称
3. **运行测试**

### 3. 自定义修改

- 根据你的实际需求修改参数
- 添加或删除节点
- 调整工作流逻辑

## 📝 注意事项

- **示例已测试** - 当前的 AI 表格操作示例已在实际环境中测试通过
- **权限要求** - 确保你的钉钉应用具有以下权限：
  - 通讯录只读权限（获取用户信息）
  - AI 表格操作权限
- **参数配置** - 示例中的以下参数需要替换为你的真实数据：
  - AI 表格 URL（包含你的 baseId、sheetId）
  - 用户 ID（用于获取 unionId）
  - 表格字段名称（根据你的表格结构）
- **测试建议** - 建议先在测试环境中运行，避免影响生产数据

## 🤔 需要帮助？

如果在使用示例过程中遇到问题：

1. 检查凭据配置是否正确
2. 确认钉钉应用权限是否充足
3. 查看 [主要文档](../README.md)
4. 提交 [GitHub Issue](https://github.com/cryozerolabs/n8n-nodes-dingtalk/issues)

## 🔄 持续更新

我们会持续添加新的示例，涵盖更多使用场景。如果你有好的示例想要分享，欢迎提交 Pull Request！